<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lista ordenada</title>
    <script defer>
      function Carro(marca, modelo, ano, cor, kilometragem, valor_fipe) {
        this.marca = marca
        this.modelo = modelo
        this.ano = ano
        this.cor = cor
        this.kilometragem = kilometragem
        this.valor_fipe = valor_fipe

        this.anosUtilizacao = function () {
          const now = new Date()
          const anos = now.getFullYear() - this.ano
          return anos
        }

        this.valorMercado = function () {
          let valor
          if (this.kilometragem <= 30000) {
            valor = this.valor_fipe * 1.1
          } else if (this.kilometragem > 30000 && this.kilometragem <= 50000) {
            valor = this.valor_fipe
          } else {
            valor = this.valor_fipe * 0.9
          }
          return valor
        }
      }

      function submitForm() {
        const form = document.getElementById("car-form")
        const carro = new Carro(
          form.marca.value,
          form.modelo.value,
          form.ano.value,
          form.cor.value,
          form.kilometragem.value,
          form.valor_fipe.value
        )

        const anos = carro.anosUtilizacao()
        const valor = carro.valorMercado()

        const output = `O carro tem ${anos} anos de utilização e seu valor de mercado é R$ ${valor.toFixed(2)}`
        console.log(output)
      }
    </script>
  </head>
  <body>
    <form id="car-form">
      <label for="marca">Marca:</label>
      <input type="text" id="marca" name="marca" /><br />

      <label for="modelo">Modelo:</label>
      <input type="text" id="modelo" name="modelo" /><br />

      <label for="ano">Ano:</label>
      <input type="number" id="ano" name="ano" /><br />

      <label for="cor">Cor:</label>
      <input type="text" id="cor" name="cor" /><br />

      <label for="kilometragem">Kilometragem:</label>
      <input type="number" id="kilometragem" name="kilometragem" /><br />

      <label for="valor_fipe">Valor FIPE:</label>
      <input type="number" id="valor_fipe" name="valor_fipe" /><br />

      <button type="button" onclick="submitForm()">Enviar</button>
    </form>

    <ol id="listaValores"></ol>
  </body>
</html>
