<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lista ordenada</title>
  </head>
  <body>
    <form id="car-form">
      <label for="marca">Marca:</label>
      <input type="text" id="marca" name="marca" /><br />

      <label for="modelo">Modelo:</label>
      <input type="text" id="modelo" name="modelo" /><br />

      <label for="ano">Ano:</label>
      <input type="number" id="ano" name="ano" /><br />

      <label for="cor">Cor:</label>
      <input type="text" id="cor" name="cor" /><br />

      <label for="kilometragem">Kilometragem:</label>
      <input type="number" id="kilometragem" name="kilometragem" /><br />

      <label for="valor_fipe">Valor FIPE:</label>
      <input type="number" id="valor_fipe" name="valor_fipe" /><br />

      <button type="button" onclick="submitForm()">Enviar</button>
    </form>

    <h1 id="res"></h1>

    <script>
      function submitForm() {
        const carro = {
          marca: document.getElementById("marca").value,
          modelo: document.getElementById("modelo").value,
          ano: Number(document.getElementById("ano").value),
          cor: document.getElementById("cor").value,
          kilometragem: Number(document.getElementById("kilometragem").value),
          valor_fipe: Number(document.getElementById("valor_fipe").value),

          anosUtilizacao: function () {
            const now = new Date()
            const anos = now.getFullYear() - this.ano
            return anos
          },

          valorMercado: function () {
            let valor
            if (this.kilometragem <= 30000) {
              valor = this.valor_fipe * 1.1
            } else if (this.kilometragem > 30000 && this.kilometragem <= 50000) {
              valor = this.valor_fipe
            } else {
              valor = this.valor_fipe * 0.9
            }
            return valor
          },
        }

        const anos = carro.anosUtilizacao()
        const valor = carro.valorMercado()

        document.getElementById(
          "res"
        ).innerHTML = `O carro tem ${anos} anos de utilização e seu valor de mercado é R$ ${valor.toFixed(2)}`
      }
    </script>
  </body>
</html>
